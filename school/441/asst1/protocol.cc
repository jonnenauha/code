//****************************************************************************************************
//
//			CPSC 441 - Assignment 1
//
//		Simulate Protocol Stack. Implements a stack object to composit the layers.
//
//							Copyright:	Ryan McDougall -- 2003
//
//****************************************************************************************************


//====================================================================================================
//

#include "protocol.hh"

using namespace std;


//====================================================================================================
//

	ProtocolStack::ProtocolStack()
{
}


//::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
//

	ProtocolStack::~ProtocolStack()
{
}


//::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
//

void		ProtocolStack::send( byte* message )
{
	ProtocolLayer*	top	= *( _stack.begin() );
	
	top->push( message );
}


//::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
//

const byte*	ProtocolStack::receive()
{
	ProtocolLayer	top	= *( _stack.begin() );
	
	return	top->pop();
}


//::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
//

void		stackLayers( ProtocolLayer& layer )
{
	_stack.push_front( layer );
}
